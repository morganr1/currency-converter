{"ast":null,"code":"var _jsxFileName = \"/Users/reggiemorgan/Dev2020/LeasePlan/lease-plan-currency-converter/src/components/converter/converter.web.js\";\nimport React, { Component } from 'react';\nimport { fetchLatestCurrencies } from '../../api/currency.api';\nimport SimpleSelect from \"../currencyDropdown/currencyDropdown.web\";\nimport fx from 'money';\nimport './converter.css';\n\nclass Converter extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      currencies: [],\n      result: null,\n      fromCurrency: \"EUR\",\n      toCurrency: \"GBP\",\n      amount: 1\n    };\n\n    this.componentDidMount = async () => {\n      const currencyArray = [\"EUR\"];\n      let rates = await fetchLatestCurrencies();\n      fx.rates = rates;\n\n      for (const key in rates) {\n        currencyArray.push(key);\n      }\n\n      currencyArray.sort();\n      this.setState({\n        currencies: currencyArray\n      });\n    };\n\n    this.convertHandler = () => {\n      fx.base = this.state.fromCurrency;\n\n      if (this.state.fromCurrency !== this.state.toCurrency) {\n        const convertedResult = fx(this.state.amount).from(this.state.fromCurrency).to(this.state.toCurrency);\n        this.setState({\n          result: convertedResult\n        });\n      } else {\n        this.setState({\n          result: \"You cant convert the same currency!\"\n        });\n      }\n    };\n\n    this.selectHandler = event => {\n      if (event.target.name === \"From\") {\n        this.setState({\n          fromCurrency: event.target.value\n        });\n      }\n\n      if (event.target.name === \"To\") {\n        this.setState({\n          toCurrency: event.target.value\n        });\n      }\n    };\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.fromCurrency !== this.state.fromCurrency) {\n      console.log('UPDATING BASE');\n      fx.base = this.state.fromCurrency;\n    }\n  }\n\n  render() {\n    const _this$state = this.state,\n          fromCurrency = _this$state.fromCurrency,\n          toCurrency = _this$state.toCurrency,\n          currencies = _this$state.currencies,\n          result = _this$state.result,\n          amount = _this$state.amount;\n    console.log('from currency ::', fromCurrency);\n    console.log('to currency ::', toCurrency);\n    console.log('fx base', fx.base);\n    return React.createElement(\"div\", {\n      className: \"converter-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"TopHalf\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, \"Currency Converter\"), React.createElement(SimpleSelect, Object.assign({\n      currencies,\n      currentCurrency: fromCurrency,\n      selectCurrency: this.selectHandler,\n      label: 'From'\n    }, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    })), React.createElement(\"input\", {\n      name: \"amount\",\n      type: \"text\",\n      value: amount,\n      onChange: event => this.setState({\n        amount: event.target.value\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"BottomHalf\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, React.createElement(SimpleSelect, Object.assign({\n      currencies,\n      currentCurrency: toCurrency,\n      selectCurrency: this.selectHandler,\n      label: 'To'\n    }, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      onClick: this.convertHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, \"Convert\")), result && React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, result));\n  }\n\n}\n\n;\nexport default Converter;","map":{"version":3,"sources":["/Users/reggiemorgan/Dev2020/LeasePlan/lease-plan-currency-converter/src/components/converter/converter.web.js"],"names":["React","Component","fetchLatestCurrencies","SimpleSelect","fx","Converter","state","currencies","result","fromCurrency","toCurrency","amount","componentDidMount","currencyArray","rates","key","push","sort","setState","convertHandler","base","convertedResult","from","to","selectHandler","event","target","name","value","componentDidUpdate","prevProps","prevState","console","log","render","currentCurrency","selectCurrency","label"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { fetchLatestCurrencies } from '../../api/currency.api';\nimport SimpleSelect from \"../currencyDropdown/currencyDropdown.web\";\nimport fx from 'money';\nimport './converter.css';\n\nclass Converter extends Component {\n    state = {\n        currencies: [],\n        result: null,\n        fromCurrency: \"EUR\",\n        toCurrency: \"GBP\",\n        amount: 1,\n    };\n\n    componentDidMount = async () => {\n        const currencyArray = [\"EUR\"];\n        let rates = await fetchLatestCurrencies();\n        fx.rates = rates;\n        for (const key in rates) {\n            currencyArray.push(key);\n        }\n        currencyArray.sort();\n        this.setState({ currencies: currencyArray })\n    };\n\n    componentDidUpdate(prevProps, prevState){\n        if(prevState.fromCurrency !== this.state.fromCurrency) {\n            console.log('UPDATING BASE');\n            fx.base = this.state.fromCurrency;\n        }\n    }\n\n\n    convertHandler = () => {\n        fx.base = this.state.fromCurrency;\n        if (this.state.fromCurrency !== this.state.toCurrency) {\n            const convertedResult = fx(this.state.amount).from(this.state.fromCurrency).to(this.state.toCurrency);\n            this.setState({ result: convertedResult });\n        } else {\n            this.setState({ result: \"You cant convert the same currency!\" })\n        }\n    };\n\n    selectHandler = event => {\n        if (event.target.name === \"From\") {\n            this.setState({ fromCurrency: event.target.value })\n        }\n        if (event.target.name === \"To\") {\n            this.setState({ toCurrency: event.target.value })\n        }\n    };\n\n    render() {\n        const { fromCurrency, toCurrency, currencies, result, amount } = this.state;\n        console.log('from currency ::', fromCurrency);\n        console.log('to currency ::', toCurrency);\n        console.log('fx base', fx.base);\n\n        return (\n            <div className=\"converter-container\">\n                    <div className=\"TopHalf\">\n                        <h3>Currency Converter</h3>\n                        <SimpleSelect {...{ currencies, currentCurrency: fromCurrency, selectCurrency: this.selectHandler, label: 'From' }}/>\n                        <input\n                            name=\"amount\"\n                            type=\"text\"\n                            value={amount}\n                            onChange={event =>\n                                this.setState({ amount: event.target.value })\n                            }\n                        />\n                    </div>\n                    <div className=\"BottomHalf\" >\n                        <SimpleSelect {...{ currencies, currentCurrency: toCurrency, selectCurrency: this.selectHandler, label: 'To' }}/>\n                        <button onClick={this.convertHandler}>Convert</button>\n                    </div>\n                    {result && <h3>{result}</h3>}\n            </div>\n        )\n    }\n};\n\nexport default Converter;\n"]},"metadata":{},"sourceType":"module"}